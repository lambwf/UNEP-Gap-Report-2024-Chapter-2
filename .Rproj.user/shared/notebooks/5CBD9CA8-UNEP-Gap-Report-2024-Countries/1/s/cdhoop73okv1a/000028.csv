"0",""
"0","## Total GHG emissions"
"0",""
"0","data_indicators <- data_edgar %>% "
"0","  filter(year==2022) %>% "
"0","  group_by(iso,country) %>% "
"0","  summarise(ghg_total=sum(value,na.rm=TRUE)/1e3)"
"1","[38;5;232m`summarise()` has grouped output by 'iso'. You can override using the `.groups` argument.[39m
"
"0","## Per capita GHG emissions"
"0",""
"0","data_indicators <- left_join(data_indicators,data_wdi_pop %>% filter(year==2022) %>% select(iso,population),by = join_by(iso))"
"0","data_indicators <- data_indicators %>% "
"0","  mutate(ghg_per_capita=ghg_total/population*1e6)"
"0",""
"0","## Consumption based per capita emissions"
"0",""
"0","data_indicators <- left_join(data_indicators,data_gcb_co2_cons %>% filter(year==2021) %>% group_by(iso) %>% summarise(co2_consumption=sum(value)),by = join_by(iso))"
"0","data_indicators <- data_indicators %>% "
"0","  mutate(co2_cons_per_capita=co2_consumption/population*1e9)"
"0",""
"0","## Historic cumulative emissions"
"0",""
"0","data_indicators <- left_join(data_indicators,data_gcb_co2_ffi %>% group_by(iso) %>% summarise(co2_ffi_historic=sum(value,na.rm=TRUE)))"
"1","[38;5;232mJoining with `by = join_by(iso)`[39m
"
"0","data_indicators <- left_join(data_indicators,data_gcb_co2_luc %>% group_by(iso) %>% summarise(co2_luc_historic=sum(mean,na.rm=TRUE)))"
"1","[38;5;232mJoining with `by = join_by(iso)`[39m
"
"0","data_indicators <- data_indicators %>% "
"0","  mutate(co2_historic =sum(co2_ffi_historic,co2_luc_historic,na.rm=T))"
"0",""
"0",""
"0","data_indicators <- data_indicators %>% "
"0","  set_variable_labels(ghg_total=""MtCO2e"","
"0","                      ghg_per_capita=""tCO2e/person"","
"0","                      co2_consumption=""GtCO2"","
"0","                      co2_cons_per_capita=""tCO2/person"","
"0","                      co2_ffi_historic=""GtCO2"","
"0","                      co2_luc_historic=""GtCO2"","
"0","                      co2_historic=""GtCO2"")"
"0",""
"0",""
"0",""
"0","data_indicators <- gather_with_labels(data_indicators,c(""ghg_total"",""ghg_per_capita"",""co2_cons_per_capita"",""co2_historic""))"
"2","Warnung:"
"2"," [38;5;232mattributes are not identical across measure variables; they will be dropped[39m
"
"0","data_indicators <- data_indicators %>% "
"0","  rename(units=label) %>% "
"0","  mutate(label=ifelse(var==""ghg_total"",""Total GHG emissions in 2022:"",NA)) %>% "
"0","  mutate(label=ifelse(var==""ghg_per_capita"",""Per capita GHG emissions in 2022:"",label)) %>% "
"0","  mutate(label=ifelse(var==""co2_cons_per_capita"",""Per capita CO2 consumption in 2021:"",label)) %>% "
"0","  mutate(label=ifelse(var==""co2_historic"",""Historic CO2 emissions from 1850:"",label))"
"0",""
"0","data_indicators <- data_indicators %>% "
"0","  mutate(value=ifelse(var==""ghg_total"",signif(value,3),value)) %>% "
"0","  mutate(value=ifelse(var==""ghg_per_capita"",signif(value,3),value)) %>% "
"0","  mutate(value=ifelse(var==""co2_cons_per_capita"",signif(value,3),value)) %>% "
"0","  mutate(value=ifelse(var==""co2_historic"",signif(value,3),value))"
"0",""
"0","data_indicators <- data_indicators %>% "
"0","  mutate(value=paste0(value,"" "",units))"
"0",""
"0",""
